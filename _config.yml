# Jekyll configuration for GitHub Pages
# This file configures Jekyll for GitHub Pages documentation

title: SpecFact CLI Documentation
description: >-
  Complete documentation for SpecFact CLI - Brownfield-first CLI: Reverse engineer legacy Python → specs → enforced contracts.
baseurl: "/specfact-cli"  # Project pages require baseurl
url: "https://nold-ai.github.io"  # GitHub Pages domain

# Build settings
markdown: kramdown
highlighter: rouge
plugins:
  - jekyll-feed
  - jekyll-redirect-from
  - jekyll-relative-links
  - jekyll-sitemap

# Exclude from processing
exclude:
  - Gemfile
  - Gemfile.lock
  - node_modules
  - vendor
  - .git
  - .github
  - .cursor
  - .specfact
  - tests
  - tools
  - contracts
  - reports
  - logs
  - dist
  - build
  - scripts
  - specs
  - resources

# Source and destination (Jekyll will look for files in docs/)
# Note: For GitHub Pages, Jekyll typically expects source in root or docs/
# When _config.yml is in docs/, source should be "." (current directory)
source: .
destination: _site

# Defaults
defaults:
  # Default layout for all pages
  - scope:
      path: ""
      type: pages
    values:
      layout: default
  # Apply permalink pattern only to markdown files
  # Note: SCSS files with front matter are treated as pages and inherit this pattern
  # This causes CSS to be output at main/index.css instead of assets/main.css
  # We fix this in the GitHub Pages workflow by copying the CSS to the correct location
  - scope:
      path: ""
      type: pages
    values:
      permalink: /:basename/
    # Only apply to files that are actually markdown, not SCSS
    # Jekyll will still process SCSS as assets if they're in assets/
  - scope:
      path: "getting-started"
    values:
      layout: default
  - scope:
      path: "guides"
    values:
      layout: default
  - scope:
      path: "reference"
    values:
      layout: default
  - scope:
      path: "examples"
    values:
      layout: default

# Theme settings (using minimal theme for clean look)
theme: minima
minima:
  social:
    github:
      username: nold-ai
      repository: specfact-cli
  author:
    name: NOLD AI
    email: hello@noldai.com
  skin: auto  # auto, light, or dark - respects user preference
  show_excerpts: true

# SASS configuration
# Note: Jekyll automatically processes assets/main.scss when using minima theme
# sass_dir is only needed for custom SASS partials directory
sass:
  style: compressed
  sourcemap: never  # Disable source maps to prevent JSON output

# Footer
footer:
  copyright: "© 2025 Nold AI (Owner: Dominikus Nold)"
  trademark: >-
